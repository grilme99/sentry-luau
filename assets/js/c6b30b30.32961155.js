"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[872],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>m});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=r.createContext({}),c=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},u=function(e){var n=c(e.components);return r.createElement(l.Provider,{value:n},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},f=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(t),f=o,m=p["".concat(l,".").concat(f)]||p[f]||d[f]||i;return t?r.createElement(m,a(a({ref:n},u),{},{components:t})):r.createElement(m,a({ref:n},u))}));function m(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,a=new Array(i);a[0]=f;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[p]="string"==typeof e?e:o,a[1]=s;for(var c=2;c<i;c++)a[c]=t[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}f.displayName="MDXCreateElement"},7158:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var r=t(7462),o=(t(7294),t(3905));const i={sidebar_position:8},a="Shutdown and Draining",s={unversionedId:"configuration/draining",id:"configuration/draining",title:"Shutdown and Draining",description:"The default behavior of most SDKs is to send out events over the network asynchronously in the background. This means",source:"@site/docs/configuration/draining.md",sourceDirName:"configuration",slug:"/configuration/draining",permalink:"/sentry-lua/docs/configuration/draining",draft:!1,editUrl:"https://github.com/Neura-Studios/sentry-lua/edit/main/docs/configuration/draining.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"defaultSidebar",previous:{title:"Filtering",permalink:"/sentry-lua/docs/configuration/filtering"},next:{title:"Usage",permalink:"/sentry-lua/docs/usage/"}},l={},c=[],u={toc:c},p="wrapper";function d(e){let{components:n,...t}=e;return(0,o.kt)(p,(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"shutdown-and-draining"},"Shutdown and Draining"),(0,o.kt)("p",null,"The default behavior of most SDKs is to send out events over the network asynchronously in the background. This means\nthat some events might be lost if the application shuts down unexpectedly. The SDKs provide mechanisms to cope with\nthis."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"close")," method optionally takes a timeout in seconds and returns a promise that resolves when all pending\nevents are flushed, or the timeout kicks in."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},"Sentry.close(2):andThen(function()\n    -- perform something after close\nend);\n")),(0,o.kt)("p",null,"After a call to ",(0,o.kt)("inlineCode",{parentName:"p"},"close"),", the current client cannot be used anymore. It's important to only call ",(0,o.kt)("inlineCode",{parentName:"p"},"close")," immediately\nbefore shutting down the application."),(0,o.kt)("p",null,"Alternatively, the ",(0,o.kt)("inlineCode",{parentName:"p"},"flush")," method drains the event queue while keeping the client enabled for continued use."))}d.isMDXComponent=!0}}]);