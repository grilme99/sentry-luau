"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[692],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=d(n),h=o,m=p["".concat(l,".").concat(h)]||p[h]||u[h]||r;return n?a.createElement(m,i(i({ref:t},c),{},{components:n})):a.createElement(m,i({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:o,i[1]=s;for(var d=2;d<r;d++)i[d]=n[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},6222:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var a=n(7462),o=(n(7294),n(3905));const r={sidebar_position:1},i="Basic Options",s={unversionedId:"configuration/options",id:"configuration/options",title:"Basic Options",description:"SDKs are configurable using a variety of options. The options are largely standardized among SDKs, but there are some",source:"@site/docs/configuration/options.md",sourceDirName:"configuration",slug:"/configuration/options",permalink:"/sentry-lua/docs/configuration/options",draft:!1,editUrl:"https://github.com/Neura-Studios/sentry-lua/edit/main/docs/configuration/options.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"defaultSidebar",previous:{title:"Configuration",permalink:"/sentry-lua/docs/configuration/"},next:{title:"Environments",permalink:"/sentry-lua/docs/configuration/environments"}},l={},d=[{value:"Common Options",id:"common-options",level:2},{value:"<code>dsn</code>",id:"dsn",level:3},{value:"<code>debug</code>",id:"debug",level:3},{value:"<code>release</code>",id:"release",level:3},{value:"<code>environment</code>",id:"environment",level:3},{value:"<code>sampleRate</code>",id:"samplerate",level:3},{value:"<code>maxBreadcrumbs</code>",id:"maxbreadcrumbs",level:3},{value:"<code>attachStacktrace</code>",id:"attachstacktrace",level:3},{value:"<code>ignoreErrors</code>",id:"ignoreerrors",level:3},{value:"<code>ignoreTransactions</code>",id:"ignoretransactions",level:3},{value:"<code>denyUrls</code>",id:"denyurls",level:3},{value:"<code>autoSessionTracking</code>",id:"autosessiontracking",level:3},{value:"<code>initialScope</code>",id:"initialscope",level:3},{value:"<code>maxValueLength</code>",id:"maxvaluelength",level:3},{value:"<code>normalizeDepth</code>",id:"normalizedepth",level:3},{value:"<code>normalizeMaxBreadth</code>",id:"normalizemaxbreadth",level:3},{value:"<code>enabled</code>",id:"enabled",level:3},{value:"<code>sendClientReports</code>",id:"sendclientreports",level:3},{value:"Integration Configuration",id:"integration-configuration",level:2},{value:"<code>integrations</code>",id:"integrations",level:3},{value:"<code>defaultIntegrations</code>",id:"defaultintegrations",level:3},{value:"Hooks",id:"hooks",level:2},{value:"<code>beforeSend</code>",id:"beforesend",level:3},{value:"<code>beforeSendTransaction</code>",id:"beforesendtransaction",level:3},{value:"<code>beforeBreadcrumb</code>",id:"beforebreadcrumb",level:3},{value:"Transport Options",id:"transport-options",level:2},{value:"<code>transport</code>",id:"transport",level:3},{value:"<code>transportOptions</code>",id:"transportoptions",level:3},{value:"Tracing Options",id:"tracing-options",level:2},{value:"<code>enableTracing</code>",id:"enabletracing",level:3},{value:"<code>tracesSampleRate</code>",id:"tracessamplerate",level:3},{value:"<code>tracesSampler</code>",id:"tracessampler",level:3}],c={toc:d},p="wrapper";function u(e){let{components:t,...n}=e;return(0,o.kt)(p,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"basic-options"},"Basic Options"),(0,o.kt)("p",null,"SDKs are configurable using a variety of options. The options are largely standardized among SDKs, but there are some\ndifferences to better accommodate platform peculiarities. Options are set when the SDK is first initialized."),(0,o.kt)("p",null,"Options are passed to the ",(0,o.kt)("inlineCode",{parentName:"p"},"init()")," function as a table:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'Sentry.init({\n  dsn = "__DSN__",\n  maxBreadcrumbs = 50,\n  debug = true,\n})\n')),(0,o.kt)("h2",{id:"common-options"},"Common Options"),(0,o.kt)("p",null,"The list of common options across SDKs. These work more or less the same in all SDKs, but some subtle differences will\nexist to better support the platform."),(0,o.kt)("h3",{id:"dsn"},(0,o.kt)("inlineCode",{parentName:"h3"},"dsn")),(0,o.kt)("p",null,"The DSN tells the Sentry SDK where to send events. If this value is not provided, the SDK will not send events."),(0,o.kt)("p",null,"Learn more about ",(0,o.kt)("a",{parentName:"p",href:"https://docs.sentry.io/product/sentry-basics/dsn-explainer/#dsn-utilization"},"DSN utilization"),"."),(0,o.kt)("h3",{id:"debug"},(0,o.kt)("inlineCode",{parentName:"h3"},"debug")),(0,o.kt)("p",null,"Turns debug mode on or off. If debug is enabled SDK will attempt to print out useful debugging information if something\ngoes wrong with sending the event. The default is always false. It's generally not recommended to turn it on in\nproduction, though turning debug mode on will not cause any safety concerns."),(0,o.kt)("h3",{id:"release"},(0,o.kt)("inlineCode",{parentName:"h3"},"release")),(0,o.kt)("p",null,"Sets the release. Some SDKs will try to automatically configure a release out of the box, but it's a better idea to\nmanually set it to guarantee that the release is in sync with your deploy integrations. Release names are strings, but\nsome formats are detected by Sentry and might be rendered differently. Learn more about how to send release data so\nSentry can tell you about regressions between releases and identify the potential source in\n",(0,o.kt)("a",{parentName:"p",href:"https://docs.sentry.io/product/releases/"},"the releases documentation"),"\nor the ",(0,o.kt)("a",{parentName:"p",href:"https://try.sentry-demo.com/demo/start/?scenario=releases&projectSlug=react&source=docs"},"sandbox"),"."),(0,o.kt)("p",null,"By default the SDK will try to read this value from the ",(0,o.kt)("inlineCode",{parentName:"p"},"SENTRY_RELEASE")," global variable (in the Roblox SDK, this\nwill be read off of the ",(0,o.kt)("inlineCode",{parentName:"p"},"_G_.__SENTRY_RELEASE__")," if available)."),(0,o.kt)("h3",{id:"environment"},(0,o.kt)("inlineCode",{parentName:"h3"},"environment")),(0,o.kt)("p",null,"Sets the environment. This string is freeform and not set by default. A release can be associated with more than one\nenvironment to separate them in the UI (think staging vs prod or similar)."),(0,o.kt)("h3",{id:"samplerate"},(0,o.kt)("inlineCode",{parentName:"h3"},"sampleRate")),(0,o.kt)("p",null,"Configures the sample rate for error events, in the range of ",(0,o.kt)("inlineCode",{parentName:"p"},"0.0")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"1.0"),". The default is ",(0,o.kt)("inlineCode",{parentName:"p"},"1.0")," which means that 100%\nof error events are sent. If set to ",(0,o.kt)("inlineCode",{parentName:"p"},"0.1")," only 10% of error events will be sent. Events are picked randomly."),(0,o.kt)("h3",{id:"maxbreadcrumbs"},(0,o.kt)("inlineCode",{parentName:"h3"},"maxBreadcrumbs")),(0,o.kt)("p",null,"This variable controls the total amount of breadcrumbs that should be captured. This defaults to ",(0,o.kt)("inlineCode",{parentName:"p"},"100"),", but you can set\nthis to any number. However, you should be aware that Sentry has a ",(0,o.kt)("a",{parentName:"p",href:"https://develop.sentry.dev/sdk/envelopes/#size-limits"},"maximum payload size")," and any events exceeding that payload size will be dropped."),(0,o.kt)("h3",{id:"attachstacktrace"},(0,o.kt)("inlineCode",{parentName:"h3"},"attachStacktrace")),(0,o.kt)("p",null,"When enabled, stack traces are automatically attached to all messages logged. Stack traces are always attached to exceptions; however, when this option is set, stack traces are also sent with messages. This option, for instance, means that stack traces appear next to all log messages."),(0,o.kt)("p",null,"This option is ",(0,o.kt)("inlineCode",{parentName:"p"},"off")," by default."),(0,o.kt)("p",null,"Grouping in Sentry is different for events with stack traces and without. As a result, you will get new groups as you\nenable or disable this flag for certain events."),(0,o.kt)("h3",{id:"ignoreerrors"},(0,o.kt)("inlineCode",{parentName:"h3"},"ignoreErrors")),(0,o.kt)("p",null,"A list of strings or regex patterns that match error messages that shouldn't be sent to Sentry. Messages that match\nthese strings or regular expressions will be filtered out before they're sent to Sentry. When using strings, partial\nmatches will be filtered out, so if you need to filter by exact match, use regex patterns instead. By default, all\nerrors are sent."),(0,o.kt)("h3",{id:"ignoretransactions"},(0,o.kt)("inlineCode",{parentName:"h3"},"ignoreTransactions")),(0,o.kt)("p",null,"A list of strings or regex patterns that match transaction names that shouldn't be sent to Sentry. Transactions that\nmatch these strings or regular expressions will be filtered out before they're sent to Sentry. When using strings,\npartial matches will be filtered out, so if you need to filter by exact match, use regex patterns instead. By default,\nall transactions are sent."),(0,o.kt)("h3",{id:"denyurls"},(0,o.kt)("inlineCode",{parentName:"h3"},"denyUrls")),(0,o.kt)("p",null,"A list of strings or regex patterns that match error URLs that should not be sent to Sentry. Errors whose entire file\nURL contains (string) or matches (regex) at least one entry in the list will not be sent. As a result, if you add\n",(0,o.kt)("inlineCode",{parentName:"p"},"'foo.com'")," to the list, it will also match on ",(0,o.kt)("inlineCode",{parentName:"p"},"https://bar.com/myfile/foo.com"),". By default, all errors are sent."),(0,o.kt)("h3",{id:"autosessiontracking"},(0,o.kt)("inlineCode",{parentName:"h3"},"autoSessionTracking")),(0,o.kt)("p",null,"When set to ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),", the SDK will send session events to Sentry. This doesn't have much application in the Roblox SDK."),(0,o.kt)("h3",{id:"initialscope"},(0,o.kt)("inlineCode",{parentName:"h3"},"initialScope")),(0,o.kt)("p",null,"Data to be set to the initial scope. Initial scope can be defined either as an object or a callback function, as shown\nbelow."),(0,o.kt)("p",null,"Object:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'Sentry.init({\n  dsn = "__DSN__",\n  debug = true,\n  initialScope = {\n    tags = {\n        myTag = "my value",\n    },\n    user = { id = "42", username = "johndoe" },\n  },\n})\n')),(0,o.kt)("p",null,"Callback function:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'Sentry.init({\n  dsn = "__DSN__",\n  debug = true,\n  initialScope = function(scope)\n    scope:setTags({ a = "b" });\n    return scope;\n  end,\n})\n')),(0,o.kt)("h3",{id:"maxvaluelength"},(0,o.kt)("inlineCode",{parentName:"h3"},"maxValueLength")),(0,o.kt)("p",null,"Maximum number of characters a single value can have before it will be truncated (defaults to ",(0,o.kt)("inlineCode",{parentName:"p"},"250"),")."),(0,o.kt)("h3",{id:"normalizedepth"},(0,o.kt)("inlineCode",{parentName:"h3"},"normalizeDepth")),(0,o.kt)("p",null,"Sentry SDKs normalize any contextual data to a given depth. Any data beyond this depth will be trimmed and marked using\nits type instead (",(0,o.kt)("inlineCode",{parentName:"p"},"[Object]")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"[Array]"),"), without walking the tree any further. By default, walking is performed three\nlevels deep."),(0,o.kt)("h3",{id:"normalizemaxbreadth"},(0,o.kt)("inlineCode",{parentName:"h3"},"normalizeMaxBreadth")),(0,o.kt)("p",null,"This is the maximum number of properties or entries that will be included in any given object or array when the SDK is\nnormalizing contextual data. Any data beyond this depth will be dropped. (defaults to 1000)"),(0,o.kt)("h3",{id:"enabled"},(0,o.kt)("inlineCode",{parentName:"h3"},"enabled")),(0,o.kt)("p",null,"Specifies whether this SDK should send events to Sentry. Defaults to ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),". Setting this to ",(0,o.kt)("inlineCode",{parentName:"p"},"enabled = false")," doesn't\nprevent all overhead from Sentry instrumentation. To disable Sentry completely, depending on environment, call\n",(0,o.kt)("inlineCode",{parentName:"p"},"Sentry.init")," conditionally."),(0,o.kt)("h3",{id:"sendclientreports"},(0,o.kt)("inlineCode",{parentName:"h3"},"sendClientReports")),(0,o.kt)("p",null,"Set this boolean to ",(0,o.kt)("inlineCode",{parentName:"p"},"false")," to disable sending of client reports. Client reports are a protocol feature that let clients\nsend status reports about themselves to Sentry. They are currently mainly used to emit outcomes for events that were\nnever sent."),(0,o.kt)("h2",{id:"integration-configuration"},"Integration Configuration"),(0,o.kt)("p",null,"For many platform SDKs, integrations can be configured alongside it. On some platforms that happens as part of the\n",(0,o.kt)("inlineCode",{parentName:"p"},"init()")," call, in some others, different patterns apply."),(0,o.kt)("h3",{id:"integrations"},(0,o.kt)("inlineCode",{parentName:"h3"},"integrations")),(0,o.kt)("p",null,"In some SDKs, the integrations are configured through this parameter on library initialization. For more information,\nplease see the documentation for a specific integration."),(0,o.kt)("h3",{id:"defaultintegrations"},(0,o.kt)("inlineCode",{parentName:"h3"},"defaultIntegrations")),(0,o.kt)("p",null,"This can be used to disable integrations that are added by default. When set to ",(0,o.kt)("inlineCode",{parentName:"p"},"false"),", no default integrations are\nadded."),(0,o.kt)("h2",{id:"hooks"},"Hooks"),(0,o.kt)("p",null,"These options can be used to hook the SDK in various ways to customize the reporting of events."),(0,o.kt)("h3",{id:"beforesend"},(0,o.kt)("inlineCode",{parentName:"h3"},"beforeSend")),(0,o.kt)("p",null,"This function is called with an SDK-specific message or error event object, and can return a modified event object, or\n",(0,o.kt)("inlineCode",{parentName:"p"},"nil")," to skip reporting the event. This can be used, for instance, for manual PII stripping before sending."),(0,o.kt)("h3",{id:"beforesendtransaction"},(0,o.kt)("inlineCode",{parentName:"h3"},"beforeSendTransaction")),(0,o.kt)("p",null,"This function is called with an SDK-specific transaction event object, and can return a modified transaction event\nobject, or ",(0,o.kt)("inlineCode",{parentName:"p"},"nil")," to skip reporting the event. One way this might be used is for manual PII stripping before sending."),(0,o.kt)("h3",{id:"beforebreadcrumb"},(0,o.kt)("inlineCode",{parentName:"h3"},"beforeBreadcrumb")),(0,o.kt)("p",null,'This function is called with an SDK-specific breadcrumb object before the breadcrumb is added to the scope. When nothing\nis returned from the function, the breadcrumb is dropped. To pass the breadcrumb through, return the first argument,\nwhich contains the breadcrumb object. The callback typically gets a second argument (called a "hint") which contains the\noriginal object from which the breadcrumb was created to further customize what the breadcrumb should look like.'),(0,o.kt)("h2",{id:"transport-options"},"Transport Options"),(0,o.kt)("p",null,"Transports are used to send events to Sentry. Transports can be customized to some degree to better support highly\nspecific deployments."),(0,o.kt)("h3",{id:"transport"},(0,o.kt)("inlineCode",{parentName:"h3"},"transport")),(0,o.kt)("p",null,"Switches out the transport used to send events. How this works depends on the SDK. It can, for instance, be used to\ncapture events for unit-testing or to send it through some more complex setup that requires proxy authentication."),(0,o.kt)("h3",{id:"transportoptions"},(0,o.kt)("inlineCode",{parentName:"h3"},"transportOptions")),(0,o.kt)("p",null,"Options used to configure the transport. This is an object with the following possible optional keys:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"headers"),": An object containing headers to be sent with every request. Used by the SDK's Roblox ",(0,o.kt)("inlineCode",{parentName:"li"},"HttpService"),"\ntransport.")),(0,o.kt)("h2",{id:"tracing-options"},"Tracing Options"),(0,o.kt)("h3",{id:"enabletracing"},(0,o.kt)("inlineCode",{parentName:"h3"},"enableTracing")),(0,o.kt)("p",null,"A boolean value, if ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),", transactions and trace data will be generated and captured. This will set the\n",(0,o.kt)("inlineCode",{parentName:"p"},"tracesSampleRate")," to the recommended default of ",(0,o.kt)("inlineCode",{parentName:"p"},"1.0")," if ",(0,o.kt)("inlineCode",{parentName:"p"},"tracesSampleRate")," is not defined. Note that\n",(0,o.kt)("inlineCode",{parentName:"p"},"tracesSampleRate")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"tracesSampler")," take precedence over this option."),(0,o.kt)("h3",{id:"tracessamplerate"},(0,o.kt)("inlineCode",{parentName:"h3"},"tracesSampleRate")),(0,o.kt)("p",null,"A number between 0 and 1, controlling the percentage chance a given transaction will be sent to Sentry.\n(0 represents 0% while 1 represents 100%.) Applies equally to all transactions created in the app. Either this or\n",(0,o.kt)("inlineCode",{parentName:"p"},"tracesSampler")," must be defined to enable tracing."),(0,o.kt)("h3",{id:"tracessampler"},(0,o.kt)("inlineCode",{parentName:"h3"},"tracesSampler")),(0,o.kt)("p",null,"A function responsible for determining the percentage chance a given transaction will be sent to Sentry. It will\nautomatically be passed information about the transaction and the context in which it's being created, and must return a\nnumber between ",(0,o.kt)("inlineCode",{parentName:"p"},"0")," (0% chance of being sent) and ",(0,o.kt)("inlineCode",{parentName:"p"},"1")," (100% chance of being sent). Can also be used for filtering\ntransactions, by returning ",(0,o.kt)("inlineCode",{parentName:"p"},"0")," for those that are unwanted. Either this or ",(0,o.kt)("inlineCode",{parentName:"p"},"tracesSampleRate")," must be defined to enable\ntracing."))}u.isMDXComponent=!0}}]);