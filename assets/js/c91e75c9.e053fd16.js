"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[112],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),u=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),c=u(n),m=r,h=c["".concat(l,".").concat(m)]||c[m]||d[m]||i;return n?a.createElement(h,s(s({ref:t},p),{},{components:n})):a.createElement(h,s({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,s=new Array(i);s[0]=m;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[c]="string"==typeof e?e:r,s[1]=o;for(var u=2;u<i;u++)s[u]=n[u];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1869:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>u});var a=n(7462),r=(n(7294),n(3905));const i={sidebar_position:5},s="Releases & Health",o={unversionedId:"configuration/releases",id:"configuration/releases",title:"Releases & Health",description:"A release is a version of your code that is deployed to an environment. When",source:"@site/docs/configuration/releases.md",sourceDirName:"configuration",slug:"/configuration/releases",permalink:"/sentry-lua/docs/configuration/releases",draft:!1,editUrl:"https://github.com/Neura-Studios/sentry-lua/edit/main/docs/configuration/releases.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"defaultSidebar",previous:{title:"Transports",permalink:"/sentry-lua/docs/configuration/transports"},next:{title:"Sampling",permalink:"/sentry-lua/docs/configuration/sampling"}},l={},u=[{value:"Bind the Version",id:"bind-the-version",level:2},{value:"Setting a Release",id:"setting-a-release",level:2},{value:"Release Health",id:"release-health",level:2},{value:"Sessions",id:"sessions",level:3}],p={toc:u},c="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"releases--health"},"Releases & Health"),(0,r.kt)("p",null,"A release is a version of your code that is deployed to an ",(0,r.kt)("a",{parentName:"p",href:"/sentry-lua/docs/configuration/environments"},"environment"),". When\nyou give Sentry information about your releases, you can:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Determine issues and regressions introduced in a new release"),(0,r.kt)("li",{parentName:"ul"},"Predict which commit caused an issue and who is likely responsible"),(0,r.kt)("li",{parentName:"ul"},"Resolve issues by including the issue number in your commit message"),(0,r.kt)("li",{parentName:"ul"},"Receive email notifications when your code gets deployed")),(0,r.kt)("h2",{id:"bind-the-version"},"Bind the Version"),(0,r.kt)("p",null,'Include a release ID (often called a "version") when you initialize the SDK.'),(0,r.kt)("p",null,"The release name cannot:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"contain newlines, tabulator characters, forward slashes(/) or back slashes(","\\",")"),(0,r.kt)("li",{parentName:"ul"},"be (in their entirety) period (.), double period (..), or space ( )"),(0,r.kt)("li",{parentName:"ul"},"exceed 200 characters")),(0,r.kt)("p",null,"The value can be arbitrary, but we recommend either of these naming strategies:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Semantic Versioning"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"package@version")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"package@version+build")," (for example, ",(0,r.kt)("inlineCode",{parentName:"li"},"my.project.name@2.3.12+1234"),")",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"package")," is the unique identifier of the project/app"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"version")," is the semver-like structure ",(0,r.kt)("inlineCode",{parentName:"li"},"<major>.<minor?>.<patch?>.<revision?>-<prerelease?>")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"build")," is the number that identifies an iteration of your app"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Commit SHA"),": If you use a version control system like Git, we recommend using the identifying hash (for example,\nthe commit SHA, ",(0,r.kt)("inlineCode",{parentName:"li"},"da39a3ee5e6b4b0d3255bfef95601890afd80709"),"). You can let Sentry CLI automatically determine this hash\nfor supported version control systems. Learn more in the ",(0,r.kt)("a",{parentName:"li",href:"https://docs.sentry.io/product/cli/releases/#creating-releases"},"Sentry CLI")," documentation.")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Releases are global per organization; prefix them with something project-specific for easy differentiation.")),(0,r.kt)("p",null,"The behavior of a few features depends on whether a project is using semantic or time-based versioning."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Regression detection"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"release:latest"))),(0,r.kt)("p",null,"Sentry automatically detects whether a project is using semantic or time-based versioning based on:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"If \u2264 2 releases total: Sentry looks at most recent release."),(0,r.kt)("li",{parentName:"ul"},"If 3-9 releases (inclusive): if any of the most recent 3 releases is semver, project is semver."),(0,r.kt)("li",{parentName:"ul"},"If 10 or more releases: if any of the most recent 3 releases is semver, and 3 out of the most recent 10 releases is\nsemver, then - the project is semver.")),(0,r.kt)("h2",{id:"setting-a-release"},"Setting a Release"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},'Sentry.init({\n    release = "my-project-name@2.3.12",\n})\n')),(0,r.kt)("p",null,"How you make the release name (or version) available to your code is up to you. For example, you could use a global ",(0,r.kt)("inlineCode",{parentName:"p"},"_G"),"\nvariable that is set during the build process (using ",(0,r.kt)("a",{parentName:"p",href:"https://darklua.com"},"Darklua"),") or during initial start-up."),(0,r.kt)("p",null,"Setting the release name tags each event with that release name. We recommend that you tell Sentry about a new release\nbefore sending events with that release name, as this will unlock a few more features. Learn more in the\n",(0,r.kt)("a",{parentName:"p",href:"https://docs.sentry.io/product/releases/"},"Releases")," documentation."),(0,r.kt)("p",null,"If you don't tell Sentry about a new release, Sentry will automatically create a release entity in the system the first\ntime it sees an event with that release ID."),(0,r.kt)("p",null,"After configuring your SDK, you can install a repository integration or manually supply Sentry with your own commit\nmetadata. Read the documentation about ",(0,r.kt)("a",{parentName:"p",href:"https://docs.sentry.io/product/releases/setup/"},"setting up releases")," for further\ninformation about integrations, associating commits, and telling Sentry when deploying releases."),(0,r.kt)("h2",{id:"release-health"},"Release Health"),(0,r.kt)("p",null,"Monitor the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.sentry.io/product/releases/health/"},"health of releases")," by observing user adoption, usage of\nthe application, percentage of crashes, and session data. Release health will provide insight into the impact of crashes\nand bugs as it relates to user experience, and reveal trends with each new issue through the Release Details graphs and\nfilters."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"App hang detection are not available for Roblox.")),(0,r.kt)("p",null,"In order to monitor release health, the SDK sends session data."),(0,r.kt)("h3",{id:"sessions"},"Sessions"),(0,r.kt)("p",null,"A session represents the interaction between the user and the application. Sessions contain a timestamp, a status\n(if the session was OK or if it crashed), and are always linked to a release. Most Sentry SDKs can manage sessions\nautomatically."),(0,r.kt)("p",null,"We mark the session as:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"crashed if an unhandled error or unhandled promise rejection bubbled up to the global handler."),(0,r.kt)("li",{parentName:"ul"},"errored if the SDK captures an event that contains an exception (this includes manually captured errors).")),(0,r.kt)("p",null,"To receive data on user adoption, such as users crash free rate percentage, and the number of users that have adopted a specific release, set the user on the ",(0,r.kt)("a",{parentName:"p",href:"/docs/configuration/options#initialscope"},"initialScope")," when initializing the SDK."),(0,r.kt)("p",null,"By default, the Roblox SDKs are sending sessions. To disable sending sessions, set the ",(0,r.kt)("inlineCode",{parentName:"p"},"autoSessionTracking")," flag to\n",(0,r.kt)("inlineCode",{parentName:"p"},"false"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},"Sentry.init({\n  autoSessionTracking = false, -- default: true\n})\n")))}d.isMDXComponent=!0}}]);